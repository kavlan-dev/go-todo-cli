# go-todo-cli

**Консольное приложение для управления списком задач**

[![Go](https://img.shields.io/badge/Go-1.25.5-blue.svg)](https://go.dev/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## Описание

go-todo-cli - это простое и удобное консольное приложение для управления списком задач. Оно позволяет добавлять, просматривать, отмечать как выполненные и удалять задачи через командную строку.

## Особенности

- Добавление задач с описанием
- Просмотр списка всех задач
- Отметка задач как выполненных
- Удаление задач
- Очистка всех задач
- Отметка всех задач как выполненных
- Сохранение задач в JSON-файле
- Настраиваемая конфигурация

## Установка

### Предварительные требования

- Go 1.25 или выше
- Git (для клонирования репозитория)

### Установка

```bash
git clone https://github.com/kavlan-dev/go-todo-cli.git
cd go-todo-cli
go build -o todo
```

## Использование

### Основные команды

```bash
# Показать список всех задач
./todo list

# Добавить новую задачу
./todo add "Купить продукты"

# Отметить задачу как выполненную (по ID)
./todo complete 1

# Удалить задачу (по ID)
./todo delete 1

# Очистить все задачи
./todo clear

# Отметить все задачи как выполненные
./todo complete-all
```

### Примеры

```bash
# Добавить несколько задач
./todo add "Сделать домашнее задание"
./todo add "Позвонить маме"
./todo add "Купить молоко"

# Просмотреть список задач
./todo list

# Отметить задачу #2 как выполненную
./todo complete 2

# Удалить задачу #1
./todo delete 1
```

## Конфигурация

Приложение можно настраивать, для этого нужно указать переменные окружения:

пример конфигурации:
```
TASKS_PATH=tasks.json
MAX_TASK_LENGTH=200
```

| Переменная | Описание | Значение по умолчанию |
|------------|-----------|-----------------------|
| `TASKS_PATH` | Путь к файлу с задачами | `tasks.json` |
| `MAX_TASK_LENGTH` | Максимальная длина задачи в символах | `200` |

## Структура проекта

```
go-todo-cli/
├── cmd/                  # CLI команды
│   ├── add.go            # Команда добавления задачи
│   ├── clear.go          # Команда очистки всех задач
│   ├── complete.go       # Команда отметки задачи как выполненной
│   ├── delete.go         # Команда удаления задачи
│   ├── list.go           # Команда просмотра списка задач
│   ├── root.go           # Корневая команда
│   └── toggle.go         # Команда переключения статуса задачи
├── internal/             # Внутренняя логика приложения
│   ├── app/              # Основная логика приложения
│   │   └── app.go        # Реализация функций работы с задачами
│   ├── config/           # Конфигурация приложения
│   │   └── config.go     # Загрузка и управление конфигурацией
│   └── models/           # Модели данных
│       └── task.go       # Модель задачи
├── go.mod                # Модуль Go
├── go.sum                # Контрольные суммы зависимостей
├── LICENSE               # Лицензия
├── main.go               # Точка входа
└── README.md             # Документация
```

## Архитектура

### Модель данных

```go
type Task struct {
    Id          int
    Content     string
    Done        bool
    CreatedAt   time.Time
    CompletedAt *time.Time
}
```

### Основные компоненты

1. **CLI Интерфейс**: Реализован с использованием [Cobra](https://github.com/spf13/cobra)
2. **Конфигурация**: Создаются с помощью переменных окружения
3. **Хранение данных**: Задачи сохраняются в JSON-файле
4. **Валидация**: Проверка длины задачи, уникальности и непустоты

## Разработка

### Зависимости

- [github.com/spf13/cobra](https://github.com/spf13/cobra) - Фреймворк для создания CLI приложений

### Сборка

```bash
go build -o todo
```

### Запуск тестов

```bash
go test ./...
```

### Создание релизов

```bash
# Сборка для Linux
GOOS=linux GOARCH=amd64 go build -o todo-linux-amd64

# Сборка для Windows
GOOS=windows GOARCH=amd64 go build -o todo-windows-amd64.exe

# Сборка для macOS
GOOS=darwin GOARCH=amd64 go build -o todo-darwin-amd64
```

## Лицензия

Этот проект лицензирован по лицензии MIT. Подробности смотрите в файле [LICENSE](LICENSE).
